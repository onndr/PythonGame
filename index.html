<!DOCTYPE html>
<html lang='en'>

<head>
	<meta charset='UTF-8'>
	<title>Python</title>
	<link rel='stylesheet' type='text/css' href='styles.css' type='stylesheet'>
	<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
</head>

<body style='margin: 0px'>

	<div class='game_heading'>Python</div>
	<div class='gameLevel toHide'>Choose the difficulty level</div>
	<div class='buttonContainer toHide'>
		<button class='toHide' onclick='startGame("easy")'>Easy</button>
		<button class='toHide' onclick='startGame("middle")'>Middle</button>
		<button class='toHide' onclick='startGame("hard")'>Hard</button>
	</div>
	<div hidden id='globalDiv' class='wrapper'></div>
	<div class="score" hidden>Your score: <span id='scoreSection'></span></div>

	<script>
		const KEY_LEFT_ARROW = 37;
		const KEY_UP_ARROW = 38;
		const KEY_RIGHT_ARROW = 39;
		const KEY_DOWN_ARROW = 40;

		const KEY_A = 65;
		const KEY_W = 87;
		const KEY_D = 68;
		const KEY_S = 83;
	</script>

	<script src='scripts/Section.js'></script>
	<script src='scripts/Python.js'></script>
	<script src='scripts/GamingArea.js'></script>
	
	<script>
		let startGame = (difficultyLevel) => {
			document.querySelectorAll('.toHide').forEach(item => item.setAttribute('hidden', 'hidden'));
			const container = document.getElementById('globalDiv');
			const scoreSection = document.getElementById('scoreSection');

			const tableSize = {};

			if(window.screen.width <= 1080){
				tableSize.width = 16;
				tableSize.height = 22;
			} else if(window.screen.width > 1080){
				tableSize.width = 28;
				tableSize.height = 18;
			}

			let gamingZone = new GamingArea(container, tableSize.height, tableSize.width, scoreSection);
			let pythonSpeed, foodGenerationSpeed, maxObstaclesCount = undefined;

			switch (difficultyLevel){
				case 'easy': 
					pythonSpeed = 400;
					foodGenerationSpeed = 6000;
					maxObstaclesCount = 5;
					break;
				case 'middle':
					pythonSpeed = 200;
					foodGenerationSpeed = 4000;
					maxObstaclesCount = 7;
					break;
				case 'hard':
					pythonSpeed = 100;
					foodGenerationSpeed = 3000;
					maxObstaclesCount = 10;
					break;
			}

			this.gamingZone = gamingZone;

			gamingZone.startGame(0, 0, 3, pythonSpeed, foodGenerationSpeed, maxObstaclesCount);
		}
	</script>

</body>

</html